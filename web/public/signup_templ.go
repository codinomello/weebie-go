// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.865
package public

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	components "github.com/codinomello/weebie-go/web/components"
	custom "github.com/codinomello/weebie-go/web/components/custom"
)

func SignUp() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<html lang=\"pt-BR\"><head><!-- Meta Tags -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = components.Meta().Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "<!-- T√≠tulo -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = components.Title("Weebie - Inscreva-se").Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "<!-- HTMX e Tailwind CSS -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = components.ScriptHead().Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "<!-- Fonte -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = components.StyleHead().Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "<!-- Flowbite CSS e √çcone -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = components.Link("house_with_garden.png").Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "</head><body class=\"bg-gray-100 dark:bg-gray-900\"><!-- Header -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = components.Nav("Weebie", "art.png").Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "<!-- Formul√°rio de Login/Cadastro --><main class=\"flex-grow flex items-center justify-center p-4 pt-8\"><div class=\"w-full max-w-xl\"><div class=\"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-lg border border-gray-200 dark:border-gray-700 transition-all duration-300 hover:shadow-xl\"><div class=\"text-center mb-6\"><h2 id=\"form-title\" class=\"text-3xl font-bold text-orange dark:text-golden mb-2\">üë§ Cadastre-se</h2><p class=\"text-gray-600 dark:text-gray-300\">Junte-se √† nossa comunidade de transforma√ß√£o</p></div><!-- Formul√°rio de Autentica√ß√£o--><form id=\"email-signup-form\" class=\"space-y-5 text-base\"><!-- Se√ß√£o 1: Dados Pessoais --><div class=\"grid grid-cols-1 md:grid-cols-4 gap-5\"><!-- Nome --><div class=\"space-y-2 md:col-span-3\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">Nome Completo*</label> <input name=\"name\" type=\"text\" required class=\"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"></div><!-- Idade --><div class=\"space-y-2\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">Idade*</label> <input name=\"age\" type=\"number\" required min=\"1\" max=\"120\" class=\"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"></div></div><div class=\"grid grid-cols-1 md:grid-cols-3 gap-5\"><!-- CPF --><div class=\"space-y-2\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">CPF*</label> <input name=\"cpf\" type=\"text\" required placeholder=\"000.000.000-00\" data-mask=\"000.000.000-00\" class=\"cpf-mask w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"></div><!-- RG --><div class=\"space-y-2\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">RG*</label> <input name=\"rg\" type=\"text\" required placeholder=\"00.000.000-0\" data-mask=\"00.000.000-0\" class=\"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"></div><!-- Sexo --><div class=\"space-y-2\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">Sexo*</label> <select name=\"sex\" required class=\"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"><option value=\"\">Selecione</option> <option value=\"male\">Masculino</option> <option value=\"female\">Feminino</option> <option value=\"other\">Outro</option> <option value=\"none\">Prefiro n√£o dizer</option></select></div></div><!-- Se√ß√£o 2: Contato --><div class=\"grid grid-cols-1 md:grid-cols-2 gap-5\"><!-- E-mail --><div class=\"space-y-2\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">E-mail*</label> <input name=\"email\" type=\"email\" required class=\"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"></div><!-- Telefone --><div class=\"space-y-2\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">Telefone*</label> <input name=\"phone\" type=\"tel\" required placeholder=\"(00) 00000-0000\" data-mask=\"(00) 00000-0000\" class=\"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"></div></div><!-- Se√ß√£o 3: Endere√ßo --><!-- CEP --><div class=\"space-y-2\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">CEP*</label><div class=\"flex gap-2\"><input name=\"cep\" type=\"text\" required placeholder=\"00000-000\" data-mask=\"00000-000\" class=\"cep-mask flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"> <button type=\"button\" id=\"buscar-cep\" class=\"px-4 py-2 bg-gradient-to-r from-orange to-golden rounded-lg transition text-white font-semibold rounded-lg hover:opacity-90 transition-all duration-300 transform hover:scale-[1.02] shadow-m\">Buscar</button></div></div><div class=\"grid grid-cols-1 md:grid-cols-4 gap-5\"><!-- Endere√ßo --><div class=\"space-y-2 md:col-span-3\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">Endere√ßo*</label> <input name=\"address\" type=\"text\" required class=\"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"></div><!-- N√∫mero --><div class=\"space-y-2 md:col-span-1\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">N√∫mero*</label> <input name=\"number\" type=\"text\" required class=\"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"></div></div><!-- Complemento --><div class=\"space-y-2\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">Complemento</label> <input name=\"complement\" type=\"text\" class=\"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"></div><div class=\"grid grid-cols-1 md:grid-cols-3 gap-5\"><!-- Bairro --><div class=\"space-y-2\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">Bairro*</label> <input name=\"neighborhood\" type=\"text\" required class=\"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"></div><!-- Cidade --><div class=\"space-y-2\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">Cidade*</label> <input name=\"city\" type=\"text\" required class=\"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"></div><!-- Estado --><div class=\"space-y-2\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">Estado*</label> <select name=\"state\" required class=\"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"><option value=\"\">Selecione</option> <option value=\"AC\">Acre</option> <option value=\"AL\">Alagoas</option> <option value=\"AP\">Amap√°</option> <option value=\"AM\">Amazonas</option> <option value=\"BA\">Bahia</option> <option value=\"CE\">Cear√°</option> <option value=\"DF\">Distrito Federal</option> <option value=\"ES\">Esp√≠rito Santo</option> <option value=\"GO\">Goi√°s</option> <option value=\"MA\">Maranh√£o</option> <option value=\"MT\">Mato Grosso</option> <option value=\"MS\">Mato Grosso do Sul</option> <option value=\"MG\">Minas Gerais</option> <option value=\"PA\">Par√°</option> <option value=\"PB\">Para√≠ba</option> <option value=\"PR\">Paran√°</option> <option value=\"PE\">Pernambuco</option> <option value=\"PI\">Piau√≠</option> <option value=\"RJ\">Rio de Janeiro</option> <option value=\"RN\">Rio Grande do Norte</option> <option value=\"RS\">Rio Grande do Sul</option> <option value=\"RO\">Rond√¥nia</option> <option value=\"RR\">Roraima</option> <option value=\"SC\">Santa Catarina</option> <option value=\"SP\">S√£o Paulo</option> <option value=\"SE\">Sergipe</option></select></div></div><!-- Se√ß√£o 4: Seguran√ßa --><!-- Senha --><div class=\"space-y-2\"><label class=\"block text-base font-medium text-gray-700 dark:text-gray-300\">Senha*</label> <input name=\"password\" type=\"password\" required class=\"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-orange focus:border-transparent transition\"></div><!-- Termos e Condi√ß√µes --><div class=\"flex items-center mt-3\"><input id=\"terms\" name=\"terms\" type=\"checkbox\" required class=\"w-5 h-5 text-orange bg-gray-100 border-gray-300 rounded focus:ring-orange dark:focus:ring-orange dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"> <label for=\"terms\" class=\"ms-3 text-base text-gray-700 dark:text-gray-300\">Concordo com os <a href=\"#\" class=\"text-orange hover:underline dark:text-golden\">Termos e Condi√ß√µes</a></label></div><!-- Bot√£o de A√ß√£o --><button type=\"submit\" class=\"w-full mt-8 px-4 py-3 text-lg bg-gradient-to-r from-orange to-golden text-white font-semibold rounded-lg hover:opacity-90 transition-all duration-300 transform hover:scale-[1.02] shadow-md\"><span id=\"form-action\">Criar Conta</span></button></form><!-- Scripts para m√°scaras e CEP --><script src=\"https://code.jquery.com/jquery-3.6.0.min.js\"></script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js\"></script><script>\r\n                    $(document).ready(function(){\r\n                        // M√°scaras corrigidas\r\n                        $('.cpf-mask').mask('000.000.000-00', {reverse: true});\r\n                        $('[data-mask=\"00.000.000-0\"]').mask('00.000.000-0');\r\n                        $('[data-mask=\"(00) 00000-0000\"]').mask('(00) 00000-0000');\r\n                        $('.cep-mask').mask('00000-000');\r\n\r\n                        // Auto-completar CEP\r\n                        $('#buscar-cep').click(function(){\r\n                            const cep = $('.cep-mask').cleanVal();\r\n                            if(cep.length !== 8) return;\r\n                            \r\n                            // ViaCEP\r\n                            $.getJSON(`https://viacep.com.br/ws/${cep}/json/?callback=?`, function(data){\r\n                                if(!data.erro) {\r\n                                    $('input[name=\"address\"]').val(data.logradouro);\r\n                                    $('input[name=\"neighborhood\"]').val(data.bairro);\r\n                                    $('input[name=\"city\"]').val(data.localidade);\r\n                                    $('select[name=\"state\"]').val(data.uf);\r\n                                    $('input[name=\"complement\"]').val(data.complemento);\r\n                                    $('input[name=\"number\"]').focus();\r\n                                } else {\r\n                                    alert('CEP n√£o encontrado!');\r\n                                }\r\n                            });\r\n                        });\r\n                    });\r\n                    </script><div class=\"mt-6 text-center\"><p class=\"text-md text-gray-600 dark:text-gray-300\">J√° tem uma conta?  <a href=\"/signin\" class=\"text-orange font-medium hover:underline dark:text-golden\">Fa√ßa login</a></p></div></div></div></main><!-- Rodap√© -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = components.FooterLogin().Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "<!-- Scripts --><script>\r\n            const signupForm = document.getElementById(\"email-signup-form\");\r\n            signupForm?.addEventListener(\"submit\", async (e) => {\r\n                e.preventDefault();\r\n                \r\n                // 1. Autentica√ß√£o b√°sica\r\n                const email = document.getElementById(\"email\").value;\r\n                const password = document.getElementById(\"password\").value;\r\n                const name = document.getElementById(\"name\").value;\r\n                const phone = document.getElementById(\"phone\").value;\r\n                const cpf = document.getElementById(\"cpf\").value;\r\n                const rg = document.getElementById(\"rg\").value;\r\n                const sex = document.getElementById(\"sex\").value;\r\n                const age = document.getElementById(\"age\").value;\r\n                const address = document.getElementById(\"address\").value;\r\n                const complement = document.getElementById(\"complement\").value;\r\n                const number = document.getElementById(\"number\").value;\r\n                const neighborhood = document.getElementById(\"neighborhood\").value;\r\n                const city = document.getElementById(\"city\").value;\r\n                const state = document.getElementById(\"state\").value;\r\n                const cep = document.getElementById(\"cep\").value;\r\n\r\n                if (!email || !password) {\r\n                    showError(\"Informe email e senha\");\r\n                    return;\r\n                }\r\n\r\n                try {\r\n                    // 2. Login com Firebase\r\n                    const userCredential = await auth.signInWithEmailAndPassword(email, password);\r\n                    const user = userCredential.user;\r\n\r\n                    // 2. Obt√©m o ID Token do Firebase\r\n                    const idToken = await user.getIdToken();\r\n\r\n                    // 4. Montar payload completa\r\n                    const userData = {\r\n                        id_token: idToken,\r\n                        email: email,\r\n                        password: password, // Enviar a senha atual\r\n                        uid: user.uid || \"\",\r\n                        name: name || \"\",\r\n                        phone: phone || \"\",\r\n                        cpf: cpf || \"\",\r\n                        rg: rg || \"\",\r\n                        sex: sex || \"none\",\r\n                        age: age || 0,\r\n                        address: address || \"\",\r\n                        complement: complement || \"\",\r\n                        number: number || \"\",\r\n                        neighborhood: neighborhood || \"\",\r\n                        city: city || \"\",\r\n                        state: state || \"\",\r\n                        cep: cep || \"\",\r\n                        role: \"user\",\r\n                        status: \"active\",\r\n                        terms: true // Usu√°rio j√° aceitou os termos ao se cadastrar\r\n                    };\r\n\r\n                    // 5. Enviar para o endpoint de login\r\n                    const backendResponse = await fetch(\"http://localhost:8080/api/auth/register\", {\r\n                        method: \"POST\",\r\n                        headers: { \"Content-Type\": \"application/json\" },\r\n                        body: JSON.stringify(userData)\r\n                    });\r\n\r\n                    if (backendResponse.ok) {\r\n                        const result = await backendResponse.json();\r\n                        showMessage('Usu√°rio registrado com sucesso!', 'success');\r\n                        console.log('Backend response:', result);\r\n                        signupForm.reset();\r\n                        // Redirecionar para a p√°gina inicial\r\n                        window.location.href = \"/\";\r\n                    } else {\r\n                        const errorData = await backendResponse.json();\r\n                        showMessage(`Erro ao registrar usu√°rio no backend: ${errorData.message || backendResponse.statusText}`, 'error');\r\n                        console.error('Backend error:', errorData);\r\n                    }\r\n                } catch (err) {\r\n                    let errorMessage = 'Ocorreu um erro desconhecido.';\r\n                    if (error.code) {\r\n                        switch (error.code) {\r\n                            case 'auth/email-already-in-use':\r\n                                errorMessage = 'Este e-mail j√° est√° em uso.';\r\n                                break;\r\n                            case 'auth/invalid-email':\r\n                                errorMessage = 'O formato do e-mail √© inv√°lido.';\r\n                                break;\r\n                            case 'auth/weak-password':\r\n                                errorMessage = 'A senha √© muito fraca (m√≠nimo 6 caracteres).';\r\n                                break;\r\n                            case 'auth/network-request-failed':\r\n                                errorMessage = 'Erro de rede. Verifique sua conex√£o.';\r\n                                break;\r\n                            default:\r\n                                errorMessage = `Erro do Firebase: ${error.message}`;\r\n                        }\r\n                    } else {\r\n                        errorMessage = `Erro: ${error.message}`;\r\n                    }\r\n                    showMessage(errorMessage, 'error');\r\n                    console.error('Registration error:', error);\r\n                }\r\n            });\r\n\r\n            // Fun√ß√£o auxiliar para exibir erros\r\n            function showError(message) {\r\n                const authResult = document.getElementById(\"auth-result\");\r\n                authResult.classList.remove(\"hidden\");\r\n                authResult.innerHTML = `\r\n                    <div class=\"p-3 mb-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800\">\r\n                        ${message}\r\n                    </div>\r\n                `;\r\n            }\r\n        </script><!-- Anima√ß√µes -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = custom.Animations().Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "</body></html>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
